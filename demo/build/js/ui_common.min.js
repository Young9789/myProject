!function(t,e,i){"use strict";function a(){n=s("#gWrap"),l.headerHnn.init(),l.createYoutubePlayer.init(),l.mainGallery.init(),l.gMenu.init(),l.bodyEscape(),l.sideCart.init(),l.toggleSlide.init(),l.optionSlider.init(),l.priceSlider(),l.pdtMagnifier.init(),l.pdtImg.init(),l.pdtListToggle.init(),l.dateRangePicker(),l.showProductLayer(),l.layerCtrl.init(),l.checkAll.init(),l.foldContent.init(),l.fileInput.init(),l.mainProduct.init(),l.thumbExpand.init(),l.slideToggle.init()}var n,s=i,o=s(t),r=(s(e),s("body")),l={},d={};l.layerDepth=9999,l.openedLayer=[],d.windowScrollbar={scrollbarWidth:0,scrollTop:0,disableClass:"is-disable_scroll",disable:function(){var t=o.width();this.scrollTop=o.scrollTop(),r.addClass(this.disableClass),this.scrollbarWidth=o.width()-t,this.resizeWrap(),o.on("resize.windowScrollbar",s.proxy(this,"resizeWrap"))},enable:function(){r.removeClass(this.disableClass),n.css({width:""}),o.off("resize.windowScrollbar").scrollTop(this.scrollTop)},resizeWrap:function(){n.css({width:o.width()-this.scrollbarWidth})}},d.keyCheck=function(t){return{18:"ALT",8:"BACKSPACE",20:"CAPS_LOCK",188:"COMMA",91:"OS",17:"CONTROL",46:"DELETE",40:"DOWN",35:"END",13:"ENTER",27:"ESCAPE",36:"HOME",45:"INSERT",37:"LEFT",93:"MENU",107:"NUMPAD_ADD",110:"NUMPAD_DECIMAL",111:"NUMPAD_DIVIDE",108:"NUMPAD_ENTER",106:"NUMPAD_MULTIPLY",109:"NUMPAD_SUBTRACT",34:"PAGE_DOWN",33:"PAGE_UP",190:"PERIOD",39:"RIGHT",16:"SHIFT",32:"SPACE",9:"TAB",38:"UP"}[t.keyCode||t.which]},d.cssProperty=function(t){var i=e.body||e.documentElement,a=i.style,n=t;if("string"==typeof a[n])return t;var s=["Moz","webkit","Webkit","Khtml","O","ms"];n=n.charAt(0).toUpperCase()+n.substr(1);for(var o=0;o<s.length;o++)if("string"==typeof a[s[o]+n])return s[o]+n;return!1},l.bodyEscape=function(){r.on("keydown",function(t){"ESCAPE"===d.keyCheck(t)&&r.trigger("escape")})},l.mainGallery={init:function(){var t=s("#mainGallery"),e='<a href="#" class="{{class}}">{{index}}</span>',i=null;if(t.length<=0)return!1;t.find(".swiper-slide").length<=1&&t.find(".swiper-pagination, .swiper-btn--prev, .swiper-btn--next").hide(),i=new Swiper(t,{initialSlide:0,slidesPerView:1,centeredSlides:!0,loop:!1,speed:850,autoplay:5e3,nextButton:".swiper-btn--next",prevButton:".swiper-btn--prev",paginationClickable:!0,pagination:".swiper-pagination",setWrapperSize:!1,autoHeight:!1,paginationBulletRender:function(t,i,a){return e.replace(/{{class}}/g,"swiper-btn-page "+a).replace(/{{index}}/g,i)},onSlideChangeStart:function(t){var e=s(t.wrapper).find(".swiper-slide"),a=e.eq(t.previousIndex),n=e.eq(t.activeIndex),o=a.find(".main_swiper_youtube"),r=n.find(".main_swiper_youtube"),l=a.find(".js_youtube_player"),d=n.find(".js_youtube_player");o.length>0&&setTimeout(function(){i.startAutoplay(),a.off("onYoutubeReady.init"),a.off("onYoutubeReady.naviSwipe"),l.data("ytPlayer")?l.data("ytPlayer").pauseVideo():a.one("onYoutubePlay.temp",".js_youtube_player",function(){s(this).data("ytPlayer").pauseVideo()})},1e3),r.length>0&&setTimeout(function(){i.stopAutoplay(),d.data("ytPlayer")?(n.off("onYoutubePlay.temp"),d.data("ytPlayer").playVideo()):n.one("onYoutubeReady.naviSwipe",".js_youtube_player",function(){s(this).data("ytPlayer").playVideo()})},1e3)},onSlideChangeEnd:function(t){},onInit:function(t){var e=s(t.wrapper).find(".swiper-slide").eq(t.activeIndex);e.find(".main_swiper_youtube").length>0&&(t.stopAutoplay(),e.one("onYoutubeReady.init",".js_youtube_player",function(){s(this).data("ytPlayer").playVideo()}))}}),t.on("onYoutubePlay",".js_youtube_player",function(){i.stopAutoplay()}).on("onYoutubeStop",".js_youtube_player",function(){i.slideNext(),i.startAutoplay()}).on("onYoutubePaused",".js_youtube_player",function(){i.startAutoplay()}),new Swiper(s("#main_product_roll"),{initialSlide:0,slidesPerView:5,spaceBetween:20,loop:!1,speed:850,autoplay:5e3,paginationClickable:!0,setWrapperSize:!0,autoHeight:!0,nextButton:".swiper-btn--next",prevButton:".swiper-btn--prev"})}},l.createYoutubePlayer={selector:"[data-youtube-url]",init:function(){var i,a=e.createElement("script"),n=s(this.selector);n.length>0&&(a.src="https://www.youtube.com/iframe_api",i=e.getElementsByTagName("script")[0],i.parentNode.insertBefore(a,i)),t.onYouTubeIframeAPIReady=this.apiReady},apiReady:function(){var t=l.createYoutubePlayer;s(t.selector).each(function(e,i){var a,n;a=s(i).data("youtubeUrl").replace(/(.*youtube\.com\/|.*youtu\.be\/)|(embed\/)|(watch\?v\=)|(\?.*)|(\".*)|(\'.*)/g,""),n=new YT.Player(i,{videoId:a,playerVars:{autoplay:"0",loop:"0",fs:"0",rel:"0",showinfo:"0"},events:{onStateChange:t.stateChange,onReady:t.stateReady}}),s(n.a).data("ytPlayer",n)})},stateReady:function(t){s(t.target.a).addClass("js_youtube_player").trigger("onYoutubeReady")},stateChange:function(t){var e=s(t.target.a);t.data===YT.PlayerState.PLAYING?e.trigger("onYoutubePlay"):t.data===YT.PlayerState.PAUSED?e.trigger("onYoutubePaused"):t.data===YT.PlayerState.ENDED&&(t.target.stopVideo(),e.trigger("onYoutubeStop"))}},l.dimmed={templete:'<div class="wrap_dimmed" id="wrapDimmed"></div>',duration:500,show:function(t){var e=s("#wrapDimmed"),i=0;e.length<=0&&(r.append(this.templete),e=s("#wrapDimmed")),i=t||this.duration,e.css("z-index",l.layerDepth-1).stop().fadeIn(i)},hide:function(t){var e=s("#wrapDimmed"),i=0;if(e.length<=0)return!1;i=t||this.duration,e.stop().fadeOut(i)},update:function(){s("#wrapDimmed").css("z-index",l.layerDepth-1)}},l.sideCart={obj:null,runTime:500,init:function(){if(this.obj=s("#sideCart"),this.obj.length<=0)return!1;r.on("click",".js_side_cart_toggle",function(t){t.preventDefault(),r.trigger("cartToggle")}).on("cartShow",s.proxy(this,"show")).on("cartHide",s.proxy(this,"hide")).on("cartToggle",s.proxy(this,"toggle"))},show:function(){var t=this,e=d.cssProperty("transform");d.windowScrollbar.disable(),this.obj.addClass("is-active"),this.obj.css("z-index",l.layerDepth+=2),r.on("click.sideCart touchend.sideCart",s.proxy(this,"sideClose")).on("escape.sideCart",function(e){t.sideClose(e)}),e?this.obj.stop().animate({borderSpacing:-340},{step:function(t,i){s(this).css(e,"translateX( "+t+"px )")},duration:this.runTime}):this.obj.stop().animate({right:"340px"},this.runTime),l.dimmed.show(this.runTime)},hide:function(){var t=this,e=d.cssProperty("transform"),i=function(){r.off("click.sideCart"),d.windowScrollbar.enable(),t.obj.removeClass("is-active"),t.obj.css("z-index",l.layerDepth-=2)};r.off("escape.sideCart"),e?this.obj.stop().animate({borderSpacing:340},{step:function(t,i){s(this).css(e,"translateX("+(t-340)+"px)")},duration:t.runTime,complete:function(){i()}}):this.obj.stop().animate({right:"0"},this.runTime),l.dimmed.hide(this.runTime)},toggle:function(){this.obj.hasClass("is-active")?r.trigger("cartHide"):r.trigger("cartShow")},sideClose:function(t){s(t.target).closest("#sideCart").length<=0&&r.trigger("cartHide")}},l.toggleSlide={btnDataName:"data-toggle-slide",contentDataName:"data-toggle-content",duration:400,init:function(){var t=this;this.stateUpdate(),r.on("toggle","["+this.btnDataName+"]",function(e){e.preventDefault(),t.toggle(s(this))}).on("click","["+this.btnDataName+"]",function(t){t.preventDefault(),s(this).trigger("toggle")})},stateUpdate:function(){var t=this,e="["+this.btnDataName+"]";s(e).each(function(e,i){var a=s(i),n=s(this).attr(t.btnDataName),o=s("["+t.contentDataName+"="+n+"]");a.hasClass("is-active")?o.show():o.hide()})},toggle:function(t){var e=t.attr(this.btnDataName),i=s("["+this.contentDataName+"="+e+"]");t.hasClass("is-active")?(i.stop().slideUp(this.duration),t.removeClass("is-active")):(i.stop().slideDown(this.duration),t.addClass("is-active"))}},l.optionSlider={value:{},moveBtn:null,moveType:null,clickPos:0,trackWidth:null,inner:null,btnStart:null,btnEnd:null,startValue:0,endValue:0,init:function(){var t=this;r.on("mousedown.optionSlider","[data-slider-btn]",function(e){t.start(s(this),e)}).on("change.optionSlider","[data-slider]",function(e){t.change(s(this))}),this.resetAll()},resetAll:function(){var t=this;s.each(s("[data-slider]"),function(e,i){var a,n=s(i),o=(n.find(".track").width(),n.find("[data-slider-btn=start]")),r=n.find("[data-slider-btn=end]"),l=JSON.parse(n.data("slider").replace(/[']/g,'"')),d=n.data("sliderDefault"),c=0,h=0,u=0;l.start<=0&&l.end<=0?(o.css("left",0),r.css("left","100%"),n.css("opacity",.5).find(".track_inner").hide(),n.on("mousedown",function(){return!1})):(d?(a=JSON.parse(d.replace(/[']/g,'"')),c=l.end-l.start,h=(a.start-l.start)/c*100,u=(a.end-l.start)/c*100):(h=0,u=100),o.css("left",h+"%").data("sliderValue",h),r.css("left",u+"%").data("sliderValue",u),t.updateInner(n))})},start:function(t,e){var i,a=this,n=e.pageX?e.pageX:e.clientX;e.preventDefault(),this.wrap=t.closest("[data-slider]"),this.moveBtn=t,this.moveBtn.addClass("is-active"),this.clickPos=n-t.offset().left,this.trackWidth=this.wrap.find(".track").width(),this.moveType=t.data("sliderBtn"),this.btnStart=this.wrap.find("[data-slider-btn=start]"),this.btnEnd=this.wrap.find("[data-slider-btn=end]"),i=this.wrap.data("slider").replace(/[']/g,'"'),this.value=JSON.parse(i),t.siblings(".track_inner").length>0&&(this.inner=t.siblings(".track_inner")),r.on("mousemove.optionSlider",function(t){a.move(t)}).on("mouseup.optionSlider",function(t){a.end(t)}).on("mouseleave.optionSlider",function(t){a.end(t)}),t.css("z-index",6).siblings(".btn").css("z-index",5)},move:function(t){var e,i,a=t.pageX?t.pageX:t.clientX,n=100,s=0;if(!this.moveBtn)return!1;t.preventDefault(),e=a-this.wrap.offset().left-this.clickPos,i=e/this.trackWidth*100,"start"===this.moveType?n=this.btnEnd.data("sliderValue"):"end"===this.moveType&&(s=this.btnStart.data("sliderValue")),i<=s?i=s:i>=n&&(i=n),this.moveBtn.data("sliderValue",i),this.btnUpdate(this.wrap),this.wrap.trigger("change")},end:function(t){this.moveBtn&&(t.preventDefault(),this.moveBtn.removeClass("is-active"),this.moveBtn=null,r.off("mousemove.optionSlider").off("mouseup.optionSlider").off("mouseleave.optionSlider"))},btnUpdate:function(t){var e=t.find("[data-slider-btn=start]"),i=t.find("[data-slider-btn=end]");e.length>0&&e.css("left",e.data("sliderValue")+"%"),i.length>0&&i.css("left",i.data("sliderValue")+"%"),this.updateInner(t)},updateInner:function(t){var e=t.find(".track_inner"),i=t.find("[data-slider-btn=start]"),a=t.find("[data-slider-btn=end]");e.length>0&&e.css({left:i.data("sliderValue")+"%",width:a.data("sliderValue")-i.data("sliderValue")+"%"})},returnValue:function(t){return((this.value.end-this.value.start)/100*t+this.value.start).toFixed(2)},change:function(t){var e=t.find("[data-slider-btn=start]"),i=t.find("[data-slider-btn=end]");t.data("sliderNow",{start:this.returnValue(e.data("sliderValue")),end:this.returnValue(i.data("sliderValue"))})}},l.priceSlider=function(){var t=s("#price_option_slider"),e=t.find(".js_price_value"),i=e.find(".js_start"),a=e.find(".js_end"),n=t.data("sliderDefault");if(t.length<=0)return!1;t.on("change",function(){var t=s(this).data("sliderNow");t&&(t.start&&i.html(t.start),t.end&&a.html(t.end))}),n=n?JSON.parse(n.replace(/[']/g,'"')):JSON.parse(t.data("slider").replace(/[']/g,'"')),n.start&&i.html(n.start),n.end&&a.html(n.end)},l.pdtListToggle={init:function(){var t=this;r.on("click","[data-list-type-toggle]",function(e){return t.changeType(s(this)),!1})},changeType:function(t){var e=s("[data-list-type]"),i=t.data("listTypeToggle");if(e.length<=0)return!1;e.attr("data-list-type")!==i&&(e.attr("data-list-type",i),s("[data-list-type-toggle]").removeClass("is-active"),t.addClass("is-active"))}},l.pdtMagnifier={magnifierScope:'<div class="magnifier_scope" style="left:-100%;top:-100%;"></div>',magnifierImage:'<div class="magnifier_image"></div>',noImage:'<span class="common_noimg"><span class="spr_common">NO IMAGE</span></span>',nowWrap:null,wrapOffset:null,nowLoading:!1,nowAdded:!1,imageLoader:null,handle:{obj:null,w:0,h:0},scope:{obj:null,img:null,w:0,h:0},limit:{x:0,y:0},image:{w:0,h:0},init:function(){s("body").on("mouseenter",".js_magnifier",s.proxy(this,"create")).on("mouseleave",".js_magnifier",s.proxy(this,"remove")).on("mousemove",".js_magnifier",s.proxy(this,"handleMove")).on("click",".js_magnifier",function(t){t.preventDefault()})},create:function(t){var e;return!this.nowLoading&&(this.nowWrap=s(t.currentTarget),this.wrapOffset=this.nowWrap.offset(),e=this.nowWrap.attr("href"),this.handle.obj=s(this.magnifierScope),this.scope.obj=s(this.magnifierImage),"#"===e||""===e?(this.handle.obj=null,!1):(this.nowLoading=!0,this.imageLoader=new Image,addEventListener?(this.imageLoader.addEventListener("load",this.imageLoaded),this.imageLoader.addEventListener("error",this.imageLoadErr)):(this.imageLoader.attachEvent("load",this.imageLoaded),this.imageLoader.attachEvent("error",this.imageLoadErr)),void(this.imageLoader.src=e)))},imageLoaded:function(){l.pdtMagnifier.createComplete(this)},imageLoadErr:function(){l.pdtMagnifier.createFail(this)},wrapSetting:function(){this.nowWrap.prepend(this.handle.obj),this.scope.obj.css({left:this.wrapOffset.left+this.nowWrap.width()-1,top:this.wrapOffset.top+1,width:this.nowWrap.width()-2,height:this.nowWrap.height()-2}),this.scope.w=this.scope.obj.width(),this.scope.h=this.scope.obj.height(),this.handle.w=this.handle.obj.outerWidth(),this.handle.h=this.handle.obj.outerHeight(),this.limit.x=this.nowWrap.width()-this.handle.w,this.limit.y=this.nowWrap.height()-this.handle.h},createComplete:function(t){this.wrapSetting(),r.prepend(this.scope.obj),this.scope.img=s(t),this.scope.img.addClass("magnifier_img"),this.scope.obj.append(this.scope.img),this.scope.img.width()<1.5*this.scope.w&&this.scope.img.width(1.5*this.scope.w),this.image.w=this.scope.img.width(),this.image.h=this.scope.img.width(),this.nowLoading=!1,this.nowAdded=!0},createFail:function(t){this.nowLoading=!1,this.nowAdded=!0,this.scope.obj.append(this.noImage)},remove:function(t){this.handle.obj&&this.handle.obj.remove(),this.scope.obj&&this.scope.obj.remove(),this.handle.obj=null,this.scope.obj=null,this.scope.img=null,this.nowWrap=null,this.nowAdded=!1,this.imageLoader&&(addEventListener?(this.imageLoader.removeEventListener("load",this.imageLoaded),this.imageLoader.removeEventListener("error",this.imageLoadErr)):(this.imageLoader.detachEvent("load",this.imageLoaded),this.imageLoader.detachEvent("error",this.imageLoadErr))),this.imageLoader=null},handleMove:function(t){var e={x:0,y:0},i={x:t.pageX?t.pageX:t.clientX,y:t.pageY?t.pageY:t.clientY};return!this.nowLoading&&(this.nowAdded?(e.x=i.x-this.wrapOffset.left-this.handle.w/2,e.y=i.y-this.wrapOffset.top-this.handle.h/2,e.x<0?e.x=0:e.x>this.limit.x&&(e.x=this.limit.x),e.y<0?e.y=0:e.y>this.limit.y&&(e.y=this.limit.y),this.handle.obj.css({left:e.x,top:e.y}),void this.imageMove(e)):(this.nowWrap||(this.nowWrap=s(t.currentTarget)),"#"!==this.nowWrap.attr("href")&&""!==this.nowWrap.attr("href")&&this.nowWrap.trigger("mouseenter"),!1))},imageMove:function(t){if(null===this.scope.img)return!1;this.scope.img.css({left:(this.scope.img.width()-this.scope.w)/this.limit.x*t.x*-1,top:(this.scope.img.height()-this.scope.h)/this.limit.y*t.y*-1})}},l.pdtImg={init:function(){var t=this;r.on("click","[data-big-image]",function(e){return e.preventDefault(),t.change(s(this)),!1}),s("[data-big-image]").eq(0).trigger("click")},change:function(t){var e=s(".js_big_image"),i=t.attr("href");"#"===i||""===i||i.match(/{{.*}}/g)||(t.parent().siblings(".is-active").removeClass("is-active"),t.parent().addClass("is-active"),e.attr("href",t.data("bigImage")),e.find(".inner").html('<img src="'+t.attr("href")+'" alt="">'))}},l.dateRangePicker=function(){s(".js_search_daterange").daterangepicker({autoApply:!0},function(t,e,i){}),s(".js_search_date").daterangepicker({singleDatePicker:!0,autoApply:!0},function(t,e,i){}),s(".js_search_daterange, .js_search_date").siblings(".icon").on("click",function(){s(this).siblings("input").trigger("click")})},l.showProductLayer=function(){r.on("click",".js_quick_view",function(){s("#productLayer").fadeIn(500),l.layerCtrl.show(s("#productLayer"))}),r.on("click",".js_quick_close",function(){s("#productLayer").fadeOut(500),l.layerCtrl.hide(s("#productLayer"))})},l.layerCtrl={init:function(){var t=this;r.on("click","[data-layer-open]",function(e){e.preventDefault(),t.show(s(s(this).data("layerOpen")))}).on("click","[data-layer-close]",function(e){e.preventDefault(),t.hide(s(s(this).data("layerClose")))}).on("escape",function(e){e.preventDefault(),t.hide()})},show:function(t){t.length>0&&(l.openedLayer.push(t),t.css("z-index",l.layerDepth+=2),t.fadeIn(),l.dimmed.show(),d.windowScrollbar.disable())},hide:function(){var t=l.openedLayer.length-1,e=l.openedLayer[t];e&&(e.fadeOut(),l.openedLayer.pop(),l.layerDepth-=2),t>0?l.dimmed.update():(l.dimmed.hide(),d.windowScrollbar.enable())}},l.checkAll={init:function(){var t=this;r.on("click","[data-check-all]",function(){t.check(s(this))}).on("click","[data-check]",function(){t.falseAllCheck(s(this))})},check:function(t){var e=t,i=e.data("checkAll"),a=s("[data-check="+i+"]");e.is(":checked")?this.trueAll(a):this.falseAll(a)},trueAll:function(t){t.prop("checked",!0)},falseAll:function(t){t.prop("checked",!1)},falseAllCheck:function(t){var e=t.data("check"),i=s("[data-check-all="+e+"]");t.is(":checked")||i.prop("checked",!1)}},l.foldContent={btnSelector:".js_fold_toggle",contentSelector:".js_fold_content",init:function(){var t=this;s(this.btnSelector);this.stateUpdate(),r.on("toggle",this.btnSelector,function(e){e.preventDefault(),t.toggle(s(this))}).on("click",this.btnSelector,function(t){t.preventDefault(),s(this).trigger("toggle")})},stateUpdate:function(){var t,e=s(this.btnSelector),i=e.filter(".is-active");t=i.length>0?i:e.eq(0),t.addClass("is-active"),t.siblings(this.contentSelector).addClass("is-active")},toggle:function(t){var e=t.siblings(this.contentSelector);t.hasClass("is-active")?(e.stop().slideUp(this.duration),t.removeClass("is-active")):(e.stop().slideDown(this.duration),t.addClass("is-active"))}},l.headerHnn={closeBtnSelector:".js_close_btn",listSelector:".js_list",itemSelector:".js_item",obj:null,now:0,total:0,timer:null,init:function(){var t;if(this.obj=s("#hdrann"),this.obj.length<=0)return!1;t=this.obj.find(this.itemSelector),this.total=t.length-1,this.total>=0?(this.obj.find(this.itemSelector).eq(0).css("top",0),this.total>=1&&this.addEvent()):this.obj.hide()},addEvent:function(){var t=this;this.startTimer(),this.obj.on("mouseenter",function(){t.stopTimer()}).on("mouseleave",function(){t.startTimer()})},startTimer:function(){var t=this;if(this.timer)return!1;this.timer=setInterval(function(){t.change(t.obj)},4e3)},stopTimer:function(){clearInterval(this.timer),this.timer=null},change:function(){var t,e=this.obj.find(this.itemSelector),i=e.eq(this.now);t=this.now===this.total?0:this.now+1,i.animate({top:"-100%"},650),e.eq(t).css("top","100%").animate({top:"0"},650),this.now=t}},l.stylebook={init:function(){this.slideImage(),this.masonryImage()},slideImage:function(){var t,e,i=s("#stylebook_big_image_slide"),a=s("#stylebook_slide_count"),n=s("#stylebook_thumb_image_slide");if(i.length<=0)return!1;i.find(".swiper-slide").length<=1&&i.find(".btn_styleslider_prev, .btn_styleslider_next").hide(),t=Swiper(i,{spaceBetween:0,speed:850,preloadImages:!1,lazyLoadingInPrevNext:!0,lazyLoading:!0,nextButton:".btn_styleslider_next",prevButton:".btn_styleslider_prev",pagination:a,paginationType:"fraction",paginationFractionRender:function(t,e,i){return'<span class="now '+e+'"></span> / <span class="total '+i+'"></span>'}}),e=Swiper(n,{slidesPerView:"auto",spaceBetween:0,speed:850,centeredSlides:!0,initialSlide:0,slideToClickedSlide:!0}),t.params.control=e,e.params.control=t},masonryImage:function(){function t(){i=r.width(),a=(i-c*(d-1))/d,e=r.find(".stylebook_masonry_item"),e.css("width",a),s.each(e,function(t,e){var i,n=s(e),o=0;i=l[0];for(var t=0;t<=d-1;t++)l[t]||(l[t]=0),i>l[t]&&(i=l[t],o=t);i=l[o],n.css({left:(a+c)*o,top:i+c}),l[o]+=n.height()+c});for(var t=0;t<=d-1;t++)h<l[t]&&(h=l[t]);r.height(h)}var e,i,a,n,o,r=s("#stylebookMasonry"),l=[0],d=3,c=27,h=0;if(r.length<=0)return!1;n=r.find("img"),o=n.length-1,n.each(function(){var e=new Image;e.src=this.src,e.onload=function(){0===o&&t(),--o}})}},l.thumbExpand={selector:".js_thumb_expanded",template:'<div class="data_thumb_expand"><img src={{src}} alt="thumb"></div>',init:function(){r.on("mouseenter.thumbExpand",this.selector,s.proxy(this.mouseenter,this)).on("mouseleave.thumbExpand",this.selector,s.proxy(this.mouseleave,this))},mouseenter:function(t){var e,i=this,a=s(t.currentTarget);this.removeExpand(t),e=this.template.replace("{{src}}",a.find("img").attr("src")),a.data("thumbExpand",s(e)),r.append(a.data("thumbExpand")),a.data("thumbExpand").hide().fadeIn(100),a.on("mousemove.thumbExpand",function(t){i.mousemove(t,a.data("thumbExpand"))})},mouseleave:function(t){this.removeExpand(t)},mousemove:function(t,e){s(t.currentTarget);if(!e)return!1;e.outerHeight(),e.outerWidth(),e.css({left:t.pageX+15,top:t.pageY+15})},removeExpand:function(t){var e=s(t.currentTarget),i=e.data("thumbExpand");if(!i)return!1;i.fadeOut(100,function(){i.remove(),i=null,e.off("mousemove.thumbExpand")})}},l.slideToggle={init:function(){var t=this;t.reset(),r.on("click","[data-slide-toggle]",function(e){e.preventDefault(),t.toggle(s(this))})},reset:function(){s("[data-slide-toggle]").each(function(){var t=s(this),e=s(t.data("toggleTarget"));t.hasClass("is-active")?e.show():e.hide()})},toggle:function(t){var e=t,i=s(e.data("toggleTarget")),a={},n=i.find("input");a="width"===e.data("slideToggle")?{width:"toggle"}:{height:"toggle"},i.stop().animate(a,{duration:500,easing:"easeInOutQuad"}),!e.hasClass("is-acitve")&&n.length>0&&n.focus(),e.toggleClass("is-active")}},l.gMenu={wrap:null,init:function(){var t=this;this.wrap=s("#gMenu"),o.on("scroll",function(){t.scrollCheck()})},scrollCheck:function(){var t=o.scrollTop(),e=this.wrap.offset().top,i=this.wrap.hasClass("is-fixed");t>=e&&!i?this.wrap.addClass("is-fixed").css({height:this.wrap.find(".g_menu_fixed").height()}):t<e&&i&&this.wrap.removeClass("is-fixed").css({height:"auto"})}},l.fileInput={selector:".commfile",init:function(){var t=this;r.on("change",this.selector+" input[type=file]",this.changeFile).on("click",".js_del_file",function(){var e=s(this).closest(".commfile").find(".file");t.reset(e)})},changeFile:function(){var t=l.fileInput,e=s(this),i=e.closest(".commfile"),a=i.find(".name"),n=t.getFileName(this),o=t.getAccept(e),r="";if(o&&!t.checkExtension(n,o))return alert("Invalid file format! Must be "+o.toUpperCase().replace(/\./g,"")),t.reset(s(this)),!1;""!==n?(i.addClass("is-active"),r=n):i.removeClass("is-active"),a.val(r).click()},getAccept:function(t){var e=t.attr("accept"),i=!!e&&e.toLowerCase();return i&&i.indexOf(".jpg")>-1&&(i+=", .jpeg"),i},getFileName:function(t){var e,i="",a=t.files;if(a){e=a.length>1;for(var n=0;n<a.length;n++)e&&n>0&&(i+=" | "),i+=a[n].name.toLowerCase()}else i=t.value.match(/[^\/\\]+$/)[0].toLowerCase();return i},checkExtension:function(t,e){var i=t.replace(/\s/g,"").split("|"),a=!0;for(var n in i)i[n]=i[n].replace(/(.*\.)/,"."),e.indexOf(i[n])<0&&(a=!1);return a},reset:function(t){var e=navigator.userAgent.toLowerCase(),i=t.closest(".commfile"),a=i.find(".name");"Netscape"===navigator.appName&&-1!==navigator.userAgent.search("Trident")||-1!==e.indexOf("msie")?t.replaceWith(t.clone(!0)):t.val(""),a.val("").click(),i.removeClass("is-active")}},l.mainProduct={init:function(){var t=s("#mainProduct");if(t.length<=0)return!1;t.find(".swiper-slide").length<=1&&t.find(".swiper-btn--prev, .swiper-btn--next").hide(),new Swiper(t,{autoHeight:!0,initialSlide:0,centeredSlides:!1,slidesPerView:5,spaceBetween:16,loop:!1,speed:500,autoplay:5e3,nextButton:".swiper-btn-prod--next",prevButton:".swiper-btn-prod--prev"})}},t.shopInit=a,t.shopUi=l,t.shopUtil=d,s(e).ready(function(){a()})}(this,this.document,this.jQuery);