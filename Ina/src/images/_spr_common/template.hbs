@sprite_margin: ({{layouts.[0].layout.items.[0].width}} - {{layouts.[0].layout.items.[0].meta.width}}) / 2;

{{#each layouts}}

{{#each sprites}}

{{#if dpi}}
@media (-webkit-min-device-pixel-ratio: {{ratio}}), (min-resolution: {{dpi}}dpi) {
{{/if}}
.{{cssesc ../classname}} {
	display: inline-block;
	padding: 0;
	border: 0;
	overflow: hidden;
	background-color: transparent;
	background-image: url('{{escimage url}}');
	{{#if dpi}}
	background-size: {{baseWidth}}px {{baseHeight}}px;
	{{/if}}
	text-indent: 120%;
	text-align: left;
	vertical-align: middle;
	appearance: none;
	border-radius: none;
	white-space: nowrap;
}
	{{#if dpi}}
}
{{/if}}
{{/each}}

{{#each layout.items}}
.{{meta.name}} {
	background-position: (-{{baseDim x}}px - @sprite_margin) (-{{baseDim y}}px - @sprite_margin);
	width: {{baseDim meta.width}}px;
	height: {{baseDim meta.height}}px;
}
{{/each}}

{{/each}}